# 评语提示词配置说明

## 📁 配置文件位置

```
src/config/prompts.ts
```

---

## 📋 提示词列表

### 一、幼儿园阶段（3种风格）

| 风格ID | 风格名称 | 说明 |
|--------|----------|------|
| `lively-horse` | 活泼小马 | 结合2026马年元素，把孩子比作可爱的'小马驹'，活泼充满童趣 |
| `warm-gentle` | 亲切温柔 | 像妈妈一样的口吻，语气柔和，充满爱意和包容 |
| `detail-narrative` | 细节叙事 | 侧重描述生活细节和具体画面，不会空洞地表扬 |

### 二、小学阶段（3种风格）

| 风格ID | 风格名称 | 说明 |
|--------|----------|------|
| `dragon-horse` | 龙马精神 | 引用'一马当先'、'龙马精神'等成语，充满能量地给予评语 |
| `enthusiastic` | 热情鼓励 | 阳光积极，多用感叹句，侧重挖掘优点和自信心 |
| `poetic` | 诗意文采 | 引用恰当的古诗文或名言，评语内容优美典雅 |

### 三、初中阶段（3种风格）

| 风格ID | 风格名称 | 说明 |
|--------|----------|------|
| `galloping` | 策马扬鞭 | 引用'以梦为马'意象，鼓励学生在青春旷野全力奔跑 |
| `friendly-mentor` | 亦师亦友 | 平等对话，尊重个性，像与学生一样真诚交流 |
| `rigorous` | 严谨治学 | 干练客观，侧重评价学习态度和思维能力，直击要害 |

---

## 🔧 如何修改提示词

### 方法一：开发模式下修改（推荐用于测试）

1. **打开配置文件**
   ```bash
   open "src/config/prompts.ts"
   ```

2. **编辑提示词模板**
   - 找到对应的风格（如 `lively-horse`）
   - 修改 `template` 字段的内容
   - 可用的变量：
     - `{name}` - 学生姓名
     - `{tags}` - 学生标签（自动用顿号连接）
     - `{gender}` - 他/她

3. **保存文件**
   - 按 `Cmd + S` (Mac) 或 `Ctrl + S` (Windows)

4. **刷新浏览器**
   - 开发模式下会自动热更新
   - 立即看到效果

### 方法二：生产环境部署

1. **修改配置文件**（同上）

2. **重新构建项目**
   ```bash
   npm run build
   ```

3. **部署到生产环境**

---

## 💡 提示词编写示例

### 示例 1：修改现有提示词

**修改前：**
```typescript
{
  style: 'lively-horse',
  template: '{name}是一个{tags}的孩子，就像一匹活泼可爱的小马驹。...'
}
```

**修改后：**
```typescript
{
  style: 'lively-horse',
  template: '{name}是一个{tags}的小朋友，就像一匹奔跑在草原上的小马驹，充满朝气与活力。...'
}
```

### 示例 2：优化提示词质量

**优化建议：**
- ✅ 使用具体的细节描述，避免空洞表扬
- ✅ 根据标签内容调整评语重点
- ✅ 保持语言风格的一致性
- ✅ 适当使用修辞手法（比喻、排比等）
- ✅ 结尾给予积极的期望和鼓励

---

## 🎯 配置文件结构说明

```typescript
// 单个提示词的类型定义
interface PromptTemplate {
  style: string      // 风格ID（与系统中的风格配置对应）
  template: string   // 提示词模板（支持变量替换）
}

// 幼儿园提示词数组
export const kindergartenPrompts: PromptTemplate[]

// 小学提示词数组
export const primaryPrompts: PromptTemplate[]

// 初中提示词数组
export const middlePrompts: PromptTemplate[]

// 合并后的所有提示词（供系统调用）
export const allPrompts: Record<string, string>

// 默认提示词（找不到匹配时使用）
export const defaultPrompt: string
```

---

## ⚠️ 注意事项

1. **变量名称必须正确**
   - 必须使用 `{name}`、`{tags}`、`{gender}`
   - 不能使用其他变量名

2. **风格ID不能修改**
   - `style` 字段的值（如 `lively-horse`）不能修改
   - 这些ID与系统中的风格配置绑定

3. **保持模板格式**
   - 模板字符串使用单引号包裹
   - 特殊字符需要转义

4. **测试修改效果**
   - 修改后建议先在开发环境测试
   - 确认无误后再部署到生产环境

---

## 🔄 版本管理建议

### 保存提示词版本

建议在修改前备份配置文件：

```bash
# 备份当前版本
cp src/config/prompts.ts src/config/prompts.backup-$(date +%Y%m%d).ts

# 查看所有备份
ls src/config/prompts.backup-*
```

### 恢复到之前的版本

```bash
# 恢复指定日期的版本
cp src/config/prompts.backup-20260120.ts src/config/prompts.ts
```

---

## 📞 技术支持

如果在修改提示词过程中遇到问题：

1. **检查语法错误**
   - 运行 `npm run build` 查看编译错误
   - 检查是否有未闭合的引号

2. **验证变量使用**
   - 确保只使用了支持的变量
   - 检查变量名拼写是否正确

3. **查看日志**
   - 浏览器控制台查看运行时错误
   - 终端查看编译错误信息

---

## 🎉 快速开始

**最简单的修改流程：**

1. 打开 `src/config/prompts.ts`
2. 找到想修改的风格
3. 编辑 `template` 内容
4. 保存文件
5. 刷新浏览器查看效果

**就是这么简单！**
